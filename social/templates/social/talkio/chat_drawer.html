
    <div class="flex flex-col h-full bg-slate-50">
        <div id="chat-messages" class="flex-1 p-4 space-y-4 overflow-y-auto scrollbar-hide">
            {% for msg in mensagens %}
            <div class="flex {% if msg.remetente == request.user %}justify-end{% endif %}">
                <div class="max-w-[85%] px-4 py-3 shadow-sm text-sm border
                    {% if msg.remetente == request.user %}bg-violet-600 text-white border-violet-700{% else %}bg-white text-slate-700 border-slate-200{% endif %}">
                    {{ msg.texto }}
                </div>
            </div>
            {% endfor %}
        </div>

        <div class="p-4 bg-white border-t border-slate-200">
            <form id="talkio-form" class="flex flex-col gap-2">
                {% csrf_token %}
                <textarea id="msg-input" name="texto" placeholder="Escreva sua mensagem..." 
                       class="w-full bg-slate-100 border border-slate-300 p-3 text-sm focus:ring-0 focus:border-violet-500 min-h-[80px] resize-none"></textarea>
                <button type="submit" class="w-full py-3 font-black tracking-widest text-white uppercase transition bg-slate-900 hover:bg-violet-600">
                    Enviar Mensagem
                </button>
            </form>
        </div>
    </div>

    <script>
        const form = document.getElementById('talkio-form');
        const container = document.getElementById('chat-messages');
        container.scrollTop = container.scrollHeight;

        form.onsubmit = async (e) => {
            e.preventDefault();
            const input = document.getElementById('msg-input');
            if (!input.value.trim()) return;

            const formData = new FormData(form);
            const response = await fetch("{% url 'yourlife_social:talkio' %}", {
                method: 'POST',
                body: formData,
                headers: {'X-Requested-With': 'XMLHttpRequest'}
            });

            if (response.ok) {
                const data = await response.json();
                const msgHtml = `<div class="flex justify-end"><div class="max-w-[85%] px-4 py-3 shadow-sm text-sm border bg-violet-600 text-white border-violet-700">${data.texto}</div></div>`;
                container.insertAdjacentHTML('beforeend', msgHtml);
                input.value = '';
                container.scrollTop = container.scrollHeight;
            }
        };
    </script>
    